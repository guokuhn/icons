# 客户端新功能

## 功能概述

客户端现在支持以下功能：

### 1. 动态获取所有图标列表

- 自动从 API 服务器加载所有可用图标
- 显示图标数量统计
- 支持手动刷新图标列表
- 响应式网格布局展示所有图标

### 2. 手动上传 SVG 图标

- 通过 Web 界面直接上传 SVG 文件
- 实时验证文件格式（仅接受 SVG）
- 自定义图标名称（支持字母、数字、连字符、下划线）
- 配置 API Key 进行身份验证
- 上传成功后自动刷新图标列表
- 友好的错误提示和成功反馈

## 使用方法

### 查看所有图标

1. 启动客户端应用：`npm run dev`
2. 打开浏览器访问 `http://localhost:5173`
3. 页面会自动加载并显示所有可用图标

### 上传新图标

1. 点击右上角的 "上传图标" 按钮
2. 填写图标名称（例如：my-icon）
3. 选择 SVG 文件（最大 1MB）
4. 确认 API Key（默认：dev-api-key-12345）
5. 点击 "上传图标" 按钮
6. 等待上传完成，图标列表会自动刷新

### 图标命名规则

- 只能包含字母、数字、连字符（-）和下划线（_）
- 长度：1-50 个字符
- 示例：`home`, `user-profile`, `icon_123`, `MENU-ICON`

## 界面功能

### 顶部区域
- 标题和描述
- 上传图标按钮
- API 连接状态指示器

### 上传表单（可折叠）
- 图标名称输入框
- SVG 文件选择器
- API Key 配置
- 上传按钮
- 状态反馈（上传中/成功/失败）

### 图标网格
- 响应式布局
- 每个图标卡片显示：
  - 图标预览（48x48）
  - 图标名称
  - 命名空间引用（gd:icon-name）
  - 图标尺寸信息
- 悬停效果（边框高亮、阴影、上移）
- 刷新按钮

### 示例展示
- 不同尺寸展示
- 不同颜色展示
- 按钮中使用示例

## API 集成

### 获取图标列表
```typescript
GET http://localhost:3000/gd.json
```

响应示例：
```json
{
  "prefix": "gd",
  "icons": {
    "home": {
      "body": "<path d=\"...\"/>",
      "width": 24,
      "height": 24
    },
    "logo": {
      "body": "<path d=\"...\"/>",
      "width": 24,
      "height": 24
    }
  },
  "lastModified": 1234567890
}
```

### 上传图标
```typescript
POST http://localhost:3000/api/upload
Headers: Authorization: Bearer {API_KEY}
Body: FormData {
  icon: File,
  name: string,
  namespace: 'gd',
  conflictStrategy: 'overwrite'
}
```

## 技术特性

- **React Hooks**: 使用 useState 和 useEffect 管理状态
- **TypeScript**: 完整的类型定义
- **响应式设计**: 自适应不同屏幕尺寸
- **实时反馈**: 上传状态、错误提示、成功消息
- **自动刷新**: 上传成功后自动更新图标列表
- **表单验证**: 客户端和服务端双重验证

## 安全性

- API Key 认证保护写操作
- 文件类型验证（仅 SVG）
- 文件大小限制（1MB）
- 图标名称格式验证
- CORS 配置

## 开发建议

### 本地开发
1. 确保 API 服务器运行在 `http://localhost:3000`
2. 使用默认 API Key: `dev-api-key-12345`
3. 上传的图标会立即在界面中显示

### 生产环境
1. 更新 API Key 为安全的密钥
2. 配置正确的 CORS 源
3. 考虑添加用户认证
4. 实现图标删除功能
5. 添加图标搜索和过滤

## 未来增强

- [ ] 图标搜索功能
- [ ] 图标分类/标签
- [ ] 批量上传
- [ ] 图标编辑
- [ ] 图标删除
- [ ] 图标版本历史
- [ ] 拖拽上传
- [ ] 图标预览放大
- [ ] 复制图标代码
- [ ] 导出图标集
